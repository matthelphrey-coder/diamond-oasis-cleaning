---
phase: 04-about-section
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - app/faqs/page.tsx
  - components/faqs/FAQAccordion.tsx
  - lib/schema.ts
autonomous: true

must_haves:
  truths:
    - "User can navigate to /faqs and see list of questions"
    - "User can click a question to expand and see the answer"
    - "User can collapse an expanded answer by clicking again"
    - "FAQPage schema validates in Google Rich Results Test"
  artifacts:
    - path: "app/faqs/page.tsx"
      provides: "FAQs page with metadata, breadcrumbs, FAQ schema, accordion"
      contains: "export const metadata"
    - path: "components/faqs/FAQAccordion.tsx"
      provides: "Client component with Headless UI Disclosure accordion"
      contains: "use client"
    - path: "lib/schema.ts"
      provides: "generateFAQSchema utility function"
      contains: "generateFAQSchema"
  key_links:
    - from: "app/faqs/page.tsx"
      to: "components/faqs/FAQAccordion.tsx"
      via: "import and render"
    - from: "app/faqs/page.tsx"
      to: "data/faqs.json"
      via: "import faqs"
    - from: "app/faqs/page.tsx"
      to: "lib/schema.ts"
      via: "generateFAQSchema import"
---

<objective>
Create FAQs page (/faqs) with accessible accordion using Headless UI Disclosure and FAQPage structured data schema.

Purpose: Answer common customer questions in an accessible, SEO-optimized format that may qualify for rich results.
Output: Fully functional FAQs page with interactive accordion and proper schema markup.
</objective>

<execution_context>
@C:\Users\matth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\matth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-about-section/04-RESEARCH.md
@components/layout/Breadcrumbs.tsx
@components/seo/SchemaMarkup.tsx
@lib/schema.ts
@data/faqs.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add generateFAQSchema utility</name>
  <files>
    lib/schema.ts
  </files>
  <action>
Add generateFAQSchema function to existing lib/schema.ts file.

Add the following interface and function AFTER the existing generateBreadcrumbSchema function:

```typescript
/**
 * FAQ item interface for schema generation
 */
export interface FAQItem {
  question: string;
  answer: string;
}

/**
 * Generate FAQPage schema from an array of FAQ items
 * https://developers.google.com/search/docs/appearance/structured-data/faqpage
 */
export function generateFAQSchema(faqs: FAQItem[]) {
  return {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    mainEntity: faqs.map((faq) => ({
      "@type": "Question",
      name: faq.question,
      acceptedAnswer: {
        "@type": "Answer",
        text: faq.answer,
      },
    })),
  };
}
```

Do NOT modify existing organizationSchema, BreadcrumbItem interface, or generateBreadcrumbSchema function.
  </action>
  <verify>
TypeScript compiles: `npx tsc --noEmit`
File contains both generateBreadcrumbSchema and generateFAQSchema
  </verify>
  <done>
lib/schema.ts exports generateFAQSchema function alongside existing exports
  </done>
</task>

<task type="auto">
  <name>Task 2: Create FAQAccordion client component</name>
  <files>
    components/faqs/FAQAccordion.tsx
  </files>
  <action>
Create Client Component using Headless UI Disclosure.

```typescript
"use client";

import { Disclosure, DisclosureButton, DisclosurePanel } from "@headlessui/react";
import { ChevronDownIcon } from "@heroicons/react/24/outline";
import clsx from "clsx";

interface FAQItem {
  id: string;
  question: string;
  answer: string;
}

interface FAQAccordionProps {
  faqs: FAQItem[];
}

export default function FAQAccordion({ faqs }: FAQAccordionProps) {
  // Component renders list of Disclosure items
  // Each item: question button that expands/collapses answer panel
  // ChevronDownIcon rotates 180deg when open using group-data-[open]:rotate-180
  // Use divide-y divide-gray-200 for separator lines between items
}
```

Implementation details:
- Wrap all in `<div className="divide-y divide-gray-200">`
- Map over faqs array, each wrapped in `<Disclosure key={faq.id}>`
- DisclosureButton: group class, flex w-full justify-between py-4 text-left
- Question text: text-lg font-heading font-medium text-primary
- ChevronDownIcon: w-5 h-5 text-primary transition-transform duration-200
- Use clsx for icon rotation: `clsx("...", "group-data-[open]:rotate-180")`
- DisclosurePanel: pb-4 text-text-secondary
- Answer renders as plain text (faq.answer)

IMPORTANT: Use Headless UI 2.x syntax:
- Import from "@headlessui/react" directly: `{ Disclosure, DisclosureButton, DisclosurePanel }`
- Tailwind data attribute: `group-data-[open]:rotate-180` (NOT `group-data-open:`)
  </action>
  <verify>
File exists at components/faqs/FAQAccordion.tsx
Contains "use client" directive
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
FAQAccordion client component created with Headless UI Disclosure
Accordion expands/collapses on click with animated chevron
  </done>
</task>

<task type="auto">
  <name>Task 3: Create FAQs page</name>
  <files>
    app/faqs/page.tsx
  </files>
  <action>
Create Server Component page that renders FAQAccordion with data.

**app/faqs/page.tsx:**
- Export metadata: title "Frequently Asked Questions | Diamond Oasis Cleaning", description about common questions (~150 chars)
- Import faqs from "@/data/faqs.json"
- Import generateBreadcrumbSchema and generateFAQSchema from "@/lib/schema"
- Import FAQAccordion from "@/components/faqs/FAQAccordion"

Structure:
1. Generate breadcrumbSchema (Home > FAQs)
2. Generate faqSchema from faqs.faqs array (map to { question, answer })
3. Return JSX:
   - `<SchemaMarkup schema={breadcrumbSchema} />`
   - `<SchemaMarkup schema={faqSchema} />`
   - Hero section: navy bg (bg-primary), h1 "Frequently Asked Questions", tagline
   - Container with Breadcrumbs
   - Container with:
     - Intro paragraph about finding answers
     - FAQAccordion component with faqs={faqs.faqs}
     - CTA section: "Still have questions? Contact us" with link to /contact-us

Container styling: container mx-auto px-4, max-w-3xl for accordion area
  </action>
  <verify>
Run `npm run dev` and navigate to http://localhost:3000/faqs:
- Page loads with hero and 16 FAQ items
- Clicking a question expands the answer
- Clicking again collapses it
- Multiple items can be open simultaneously

View page source and verify:
- BreadcrumbList JSON-LD present
- FAQPage JSON-LD present with all 16 questions
  </verify>
  <done>
/faqs page displays 16 accordion items from faqs.json
Each item expands/collapses on click
Page has both breadcrumb and FAQ schema markup
  </done>
</task>

</tasks>

<verification>
- [ ] `npm run dev` starts without errors
- [ ] http://localhost:3000/faqs renders with 16 FAQ items in accordion
- [ ] Clicking question expands answer, clicking again collapses
- [ ] Chevron icon rotates when expanded
- [ ] Breadcrumbs show "Home / FAQs"
- [ ] Page source contains BreadcrumbList JSON-LD
- [ ] Page source contains FAQPage JSON-LD with 16 Question entities
- [ ] `npx tsc --noEmit` passes with no type errors
- [ ] Tab key navigates between accordion items (keyboard accessible)
</verification>

<success_criteria>
- FAQs page shows hero, breadcrumbs, 16 accordion items, contact CTA
- Accordion is fully functional (expand/collapse, multiple open allowed)
- FAQPage schema contains all 16 questions and answers
- Accordion is keyboard accessible (Tab, Enter/Space to toggle)
- No TypeScript or runtime errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-about-section/04-03-SUMMARY.md`
</output>
